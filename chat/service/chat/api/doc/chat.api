syntax = "v1"

info(
    title: "user chat 相关 api"
    desc: "语音相关"
    author: "whyiyhw"
    email: ""
    version: "v1"
)

type (
    ChatReq {
        Channel string `json:"channel,optional" validate:"required,oneof=wecom openai" label:"渠道"`
        MSG string `json:"msg,optional" validate:"required,max=500" label:"消息"`
        UserID string `json:"user_id,optional" validate:"required,max=500" label:"用户标识"`
        AgentID int64 `json:"agent_id,optional" validate:"required" label:"应用标识"`
    }

    ChatReply {
        Message string `json:"message"`
    }

    CustomerChatReq struct {
        MsgID      string `json:"msg_id"`
        Msg        string `json:"msg"`
        CustomerID string `json:"customer_id"`
        OpenKfID   string `json:"open_kf_id"`
    }

    CustomerChatReply {
        Message string `json:"message"`
    }
    ChatHistoryExportReq struct {
        UserNickname string `json:"user_nickname"`
        KfName   string `json:"kf_name"`
        ChatType   int32 `json:"chat_type"`
        StartTime   string `json:"start_time,omitempty"`
        EndTime   string `json:"end_time,omitempty"`
    }

    ChatHistoryExportReply {
        File string `json:"file"`
    }

    GetLastChatInfoRequest struct {
        UserNickname string `json:"user_nickname"`
        KfName   string `json:"kf_name"`
        ChatType   int32 `json:"chat_type"`
    }

    GetLastChatInfoReply {
        ReqContent string `json:"req_content"`
        ResContent string `json:"res_content"`
        CreatedTime string `json:"created_time"`
    }

    DoGenerateActiveChatContentRequest struct {
        UserNickname string `json:"user_nickname"`
        KfName   string `json:"kf_name"`
        Prompt   string `json:"prompt"`
        ContextMessage   string `json:"context_message"`
        ChatType   int32 `json:"chat_type"`
    }

    DoGenerateActiveChatContentReply {
        Message string `json:"message"`
    }


)