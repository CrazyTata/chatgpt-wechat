/*! 
 Build based on chatgpt-wechat-admin 
 Time : 1685686675000 */
import{P as e,u as a,r as l,a as t,o,c as u,b as r,d,w as s,g as n,i,j as p,E as c}from"./index-c0e4adfc.js";import{a as m,E as _}from"./form-item-2334633e.js";/* empty css               *//* empty css              */import{f,c as v,u as b}from"./chat-c7bbfd8d.js";import"./date-225eaf4f.js";import"./dictionary-8715b49d.js";import"./_baseClone-8e8c462c.js";import"./_Uint8Array-51a2700d.js";import"./_initCloneObject-fdddb50e.js";import"./sysDictionary-fa38e7c5.js";const V={class:"gva-form-box"},y={name:"Chat"},g=Object.assign(y,{setup(y){const g=e(),j=a(),h=l(""),k=l({user:"",message_id:"",open_kf_id:"",agent_id:0,req_content:"",res_content:""}),U=t({}),q=l();(async()=>{if(g.query.id){const e=await f({ID:g.query.id});0===e.code&&(k.value=e.data.rechat,h.value="update")}else h.value="create"})();const w=async()=>{var e;null==(e=q.value)||e.validate((async e=>{if(!e)return;let a;switch(h.value){case"create":default:a=await v(k.value);break;case"update":a=await b(k.value)}0===a.code&&i({type:"success",message:"创建/更改成功"})}))},C=()=>{j.go(-1)};return(e,a)=>{const l=p,t=m,i=c,f=_;return o(),u("div",null,[r("div",V,[d(f,{model:k.value,ref_key:"elFormRef",ref:q,"label-position":"right",rules:U,"label-width":"80px"},{default:s((()=>[d(t,{label:"用户Id:",prop:"user"},{default:s((()=>[d(l,{modelValue:k.value.user,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.user=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(t,{label:"消息ID:",prop:"message_id"},{default:s((()=>[d(l,{modelValue:k.value.message_id,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.message_id=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(t,{label:"客服标识:",prop:"open_kf_id"},{default:s((()=>[d(l,{modelValue:k.value.open_kf_id,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.open_kf_id=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(t,{label:"应用ID:",prop:"agent_id"},{default:s((()=>[d(l,{modelValue:k.value.agent_id,"onUpdate:modelValue":a[3]||(a[3]=e=>k.value.agent_id=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(t,{label:"用户发送内容:",prop:"req_content"},{default:s((()=>[d(l,{modelValue:k.value.req_content,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value.req_content=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(t,{label:"openai响应内容:",prop:"res_content"},{default:s((()=>[d(l,{modelValue:k.value.res_content,"onUpdate:modelValue":a[5]||(a[5]=e=>k.value.res_content=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(t,null,{default:s((()=>[d(i,{type:"primary",onClick:w},{default:s((()=>[n("保存")])),_:1}),d(i,{type:"primary",onClick:C},{default:s((()=>[n("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{g as default};
