/*! 
 Build based on chatgpt-wechat-admin 
 Time : 1685686675000 */
import{P as e,u as l,r as a,a as o,o as t,c as d,b as r,d as u,w as m,g as s,i as p,j as i,E as n}from"./index-c0e4adfc.js";import{a as c,E as b}from"./form-item-2334633e.js";/* empty css               */import{E as f}from"./input-number-a9f9fe75.js";/* empty css              */import{E as v}from"./switch-bf5d3f64.js";import{f as V,c as g,u as j}from"./customerConfig-46016fc4.js";import"./date-225eaf4f.js";import"./dictionary-8715b49d.js";import"./_baseClone-8e8c462c.js";import"./_Uint8Array-51a2700d.js";import"./_initCloneObject-fdddb50e.js";import"./index-117497ec.js";import"./sysDictionary-fa38e7c5.js";const _={class:"gva-form-box"},y={name:"CustomerConfig"},C=Object.assign(y,{setup(y){const C=e(),h=l(),x=a(""),M=a({kfId:"",kfName:"",prompt:"",postModel:"",embeddingEnable:!1,embeddingMode:"",score:0,topK:0,clearContextTime:0}),k=o({}),E=a();(async()=>{if(C.query.id){const e=await V({ID:C.query.id});0===e.code&&(M.value=e.data.recustomerConfig,x.value="update")}else x.value="create"})();const U=async()=>{var e;null==(e=E.value)||e.validate((async e=>{if(!e)return;let l;switch(x.value){case"create":default:l=await g(M.value);break;case"update":l=await j(M.value)}0===l.code&&p({type:"success",message:"创建/更改成功"})}))},w=()=>{h.go(-1)};return(e,l)=>{const a=i,o=c,p=v,V=f,g=n,j=b;return t(),d("div",null,[r("div",_,[u(j,{model:M.value,ref_key:"elFormRef",ref:E,"label-position":"right",rules:k,"label-width":"80px"},{default:m((()=>[u(o,{label:"客服:",prop:"kfName"},{default:m((()=>[u(a,{modelValue:M.value.kfName,"onUpdate:modelValue":l[0]||(l[0]=e=>M.value.kfName=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(o,{label:"prompt:",prop:"prompt"},{default:m((()=>[u(a,{modelValue:M.value.prompt,"onUpdate:modelValue":l[1]||(l[1]=e=>M.value.prompt=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(o,{label:"model:",prop:"postModel"},{default:m((()=>[u(a,{modelValue:M.value.postModel,"onUpdate:modelValue":l[2]||(l[2]=e=>M.value.postModel=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(o,{label:"启用EM:",prop:"embeddingEnable"},{default:m((()=>[u(p,{modelValue:M.value.embeddingEnable,"onUpdate:modelValue":l[3]||(l[3]=e=>M.value.embeddingEnable=e),"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否",clearable:""},null,8,["modelValue"])])),_:1}),u(o,{label:"搜索模式:",prop:"embeddingMode"},{default:m((()=>[u(a,{modelValue:M.value.embeddingMode,"onUpdate:modelValue":l[4]||(l[4]=e=>M.value.embeddingMode=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(o,{label:"分数:",prop:"score"},{default:m((()=>[u(V,{modelValue:M.value.score,"onUpdate:modelValue":l[5]||(l[5]=e=>M.value.score=e),precision:2,clearable:!0},null,8,["modelValue"])])),_:1}),u(o,{label:"topK:",prop:"topK"},{default:m((()=>[u(a,{modelValue:M.value.topK,"onUpdate:modelValue":l[6]||(l[6]=e=>M.value.topK=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(o,{label:"清理时间:",prop:"clearContextTime"},{default:m((()=>[u(a,{modelValue:M.value.clearContextTime,"onUpdate:modelValue":l[7]||(l[7]=e=>M.value.clearContextTime=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(o,null,{default:m((()=>[u(g,{type:"primary",onClick:U},{default:m((()=>[s("保存")])),_:1}),u(g,{type:"primary",onClick:w},{default:m((()=>[s("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{C as default};
