/*! 
 Build based on chatgpt-wechat-admin 
 Time : 1685686675000 */
import{ad as e,aO as t,_ as n,x as o,y as l,o as a,p as s,w as u,B as r,ac as i,ai as p,aP as d,aQ as c,aj as v,F as m,aR as h,C as b,D as f,aS as x,a3 as M,aT as g,r as y,ag as I,aq as k,a as C,a4 as S,z as E,ae as w,aG as T,A as $,aU as O,J as P,R as A,an as z,M as B,at as N,aV as j,$ as _,aW as L,aX as W,aY as q,aZ as R,a_ as D,a$ as F,b0 as G,a5 as V,am as H,av as U,c as Z,b as J,n as K,g as Q,t as X,K as Y,L as ee}from"./index-c0e4adfc.js";import{_ as te}from"./index-e6ea490b.js";import{E as ne}from"./index-3aa8858d.js";var oe=n(o({name:"ElMenuCollapseTransition",setup(){const e=l("menu");return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,n){d(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",n()},onAfterEnter(t){c(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),v(t,e.m("collapse"))?(c(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),d(t,e.m("collapse"))):(d(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),c(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){d(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}}),[["render",function(e,t,n,o,l,d){return a(),s(p,i({mode:"out-in"},e.listeners),{default:u((()=>[r(e.$slots,"default")])),_:3},16)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function le(e,t){const n=m((()=>{let n=e.parent;const o=[t.value];for(;"ElMenu"!==n.type.name;)n.props.index&&o.unshift(n.props.index),n=n.parent;return o}));return{parentMenu:m((()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t})),indexPath:n}}function ae(e){return m((()=>{const t=e.backgroundColor;return t?new h(t).shade(20).toString():""}))}const se=(e,t)=>{const n=l("menu");return m((()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":ae(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))},ue=b({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:f},expandOpenIcon:{type:f},collapseCloseIcon:{type:f},collapseOpenIcon:{type:f}}),re="ElSubMenu";var ie=o({name:re,props:ue,setup(e,{slots:t,expose:n}){x({from:"popper-append-to-body",replacement:"teleported",scope:re,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},m((()=>void 0!==e.popperAppendToBody)));const o=N(),{indexPath:a,parentMenu:s}=le(o,m((()=>e.index))),u=l("menu"),r=l("sub-menu"),i=M("rootMenu");i||g(re,"can not inject root menu");const p=M(`subMenu:${s.value.uid}`);p||g(re,"can not inject sub menu");const d=y({}),c=y({});let v;const h=y(!1),b=y(),f=y(null),_=m((()=>"horizontal"===Z.value&&W.value?"bottom-start":"right-start")),L=m((()=>"horizontal"===Z.value&&W.value||"vertical"===Z.value&&!i.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?F.value?e.expandOpenIcon:e.expandCloseIcon:I:e.collapseCloseIcon&&e.collapseOpenIcon?F.value?e.collapseOpenIcon:e.collapseCloseIcon:k)),W=m((()=>0===p.level)),q=m((()=>{var t;const n=null!=(t=e.teleported)?t:e.popperAppendToBody;return void 0===n?W.value:n})),R=m((()=>i.props.collapse?`${u.namespace.value}-zoom-in-left`:`${u.namespace.value}-zoom-in-top`)),D=m((()=>"horizontal"===Z.value&&W.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"])),F=m((()=>i.openedMenus.includes(e.index))),G=m((()=>{let e=!1;return Object.values(d.value).forEach((t=>{t.active&&(e=!0)})),Object.values(c.value).forEach((t=>{t.active&&(e=!0)})),e})),V=m((()=>i.props.backgroundColor||"")),H=m((()=>i.props.activeTextColor||"")),U=m((()=>i.props.textColor||"")),Z=m((()=>i.props.mode)),J=C({index:e.index,indexPath:a,active:G}),K=se(i.props,p.level+1),Q=m((()=>"horizontal"!==Z.value?{color:U.value}:{borderBottomColor:G.value?i.props.activeTextColor?H.value:"":"transparent",color:G.value?H.value:U.value})),X=e=>{var t,n,o;e||null==(o=null==(n=null==(t=f.value)?void 0:t.popperRef)?void 0:n.popperInstanceRef)||o.destroy()},Y=()=>{"hover"===i.props.menuTrigger&&"horizontal"===i.props.mode||i.props.collapse&&"vertical"===i.props.mode||e.disabled||i.handleSubMenuClick({index:e.index,indexPath:a.value,active:G.value})},ee=(t,n=e.showTimeout)=>{var o;"focus"!==t.type&&("click"===i.props.menuTrigger&&"horizontal"===i.props.mode||!i.props.collapse&&"vertical"===i.props.mode||e.disabled||(p.mouseInChild.value=!0,null==v||v(),({stop:v}=j((()=>{i.openMenu(e.index,a.value)}),n)),q.value&&(null==(o=s.value.vnode.el)||o.dispatchEvent(new MouseEvent("mouseenter")))))},oe=(t=!1)=>{var n,l;"click"===i.props.menuTrigger&&"horizontal"===i.props.mode||!i.props.collapse&&"vertical"===i.props.mode||(null==v||v(),p.mouseInChild.value=!1,({stop:v}=j((()=>!h.value&&i.closeMenu(e.index,a.value)),e.hideTimeout)),q.value&&t&&"ElSubMenu"===(null==(n=o.parent)?void 0:n.type.name)&&(null==(l=p.handleMouseleave)||l.call(p,!0)))};S((()=>i.props.collapse),(e=>X(Boolean(e))));{const e=e=>{c.value[e.index]=e},t=e=>{delete c.value[e.index]};E(`subMenu:${o.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:oe,mouseInChild:h,level:p.level+1})}return n({opened:F}),w((()=>{i.addSubMenu(J),p.addSubMenu(J)})),T((()=>{p.removeSubMenu(J),i.removeSubMenu(J)})),()=>{var n;const l=[null==(n=t.title)?void 0:n.call(t),$(P,{class:r.e("icon-arrow"),style:{transform:F.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&i.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>O(L.value)?$(o.appContext.components[L.value]):$(L.value)})],a=i.isMenuPopup?$(ne,{ref:f,visible:F.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:_.value,teleported:q.value,fallbackPlacements:D.value,transition:R.value,gpuAcceleration:!1},{content:()=>{var n;return $("div",{class:[u.m(Z.value),u.m("popup-container"),e.popperClass],onMouseenter:e=>ee(e,100),onMouseleave:()=>oe(!0),onFocus:e=>ee(e,100)},[$("ul",{class:[u.b(),u.m("popup"),u.m(`popup-${_.value}`)],style:K.value},[null==(n=t.default)?void 0:n.call(t)])])},default:()=>$("div",{class:r.e("title"),style:[Q.value,{backgroundColor:V.value}],onClick:Y},l)}):$(B,{},[$("div",{class:r.e("title"),style:[Q.value,{backgroundColor:V.value}],ref:b,onClick:Y},l),$(te,{},{default:()=>{var e;return A($("ul",{role:"menu",class:[u.b(),u.m("inline")],style:K.value},[null==(e=t.default)?void 0:e.call(t)]),[[z,F.value]])}})]);return $("li",{class:[r.b(),r.is("active",G.value),r.is("opened",F.value),r.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:F.value,onMouseenter:ee,onMouseleave:()=>oe(!0),onFocus:ee},[a])}}});const pe=b({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:_(Array),default:()=>L([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),de=e=>Array.isArray(e)&&e.every((e=>O(e)));var ce=o({name:"ElMenu",props:pe,emits:{close:(e,t)=>O(e)&&de(t),open:(e,t)=>O(e)&&de(t),select:(e,t,n,o)=>O(e)&&de(t)&&F(n)&&(void 0===o||o instanceof Promise)},setup(n,{emit:o,slots:a,expose:s}){const u=N(),r=u.appContext.config.globalProperties.$router,i=y(),p=l("menu"),d=l("sub-menu"),c=y(-1),v=y(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),h=y(n.defaultActive),b=y({}),f=y({}),x=m((()=>"horizontal"===n.mode||"vertical"===n.mode&&n.collapse)),M=(e,t)=>{v.value.includes(e)||(n.uniqueOpened&&(v.value=v.value.filter((e=>t.includes(e)))),v.value.push(e),o("open",e,t))},g=e=>{const t=v.value.indexOf(e);-1!==t&&v.value.splice(t,1)},I=(e,t)=>{g(e),o("close",e,t)},k=({index:e,indexPath:t})=>{v.value.includes(e)?I(e,t):M(e,t)},T=e=>{("horizontal"===n.mode||n.collapse)&&(v.value=[]);const{index:t,indexPath:l}=e;if(!G(t)&&!G(l))if(n.router&&r){const n=e.route||t,a=r.push(n).then((e=>(e||(h.value=t),e)));o("select",t,l,{index:t,indexPath:l,route:n},a)}else h.value=t,o("select",t,l,{index:t,indexPath:l})};let O=!0;const A=()=>{const e=()=>{c.value=-1,V((()=>{c.value=(()=>{var e,t;if(!i.value)return-1;const n=Array.from(null!=(t=null==(e=i.value)?void 0:e.childNodes)?t:[]).filter((e=>"#comment"!==e.nodeName&&("#text"!==e.nodeName||e.nodeValue))),o=Number.parseInt(getComputedStyle(i.value).paddingLeft,10),l=Number.parseInt(getComputedStyle(i.value).paddingRight,10),a=i.value.clientWidth-o-l;let s=0,u=0;return n.forEach(((e,t)=>{s+=e.offsetWidth||0,s<=a-64&&(u=t+1)})),u===n.length?-1:u})()}))};O?e():((e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout((()=>{e()}),t)}})(e)(),O=!1};let z;S((()=>n.defaultActive),(e=>{b.value[e]||(h.value=""),(e=>{const t=b.value,o=t[e]||h.value&&t[h.value]||t[n.defaultActive];h.value=o?o.index:e})(e)})),S((()=>n.collapse),(e=>{e&&(v.value=[])})),S(b.value,(()=>{const e=h.value&&b.value[h.value];if(!e||"horizontal"===n.mode||n.collapse)return;e.indexPath.forEach((e=>{const t=f.value[e];t&&M(e,t.indexPath)}))})),W((()=>{"horizontal"===n.mode&&n.ellipsis?z=q(i,A).stop:null==z||z()}));{const e=e=>{f.value[e.index]=e},t=e=>{delete f.value[e.index]},o=e=>{b.value[e.index]=e},l=e=>{delete b.value[e.index]};E("rootMenu",C({props:n,openedMenus:v,items:b,subMenus:f,activeIndex:h,isMenuPopup:x,addMenuItem:o,removeMenuItem:l,addSubMenu:e,removeSubMenu:t,openMenu:M,closeMenu:I,handleMenuItemClick:T,handleSubMenuClick:k})),E(`subMenu:${u.uid}`,{addSubMenu:e,removeSubMenu:t,mouseInChild:y(!1),level:0})}w((()=>{"horizontal"===n.mode&&new class{constructor(e,t){this.domNode=e,this.init(t)}init(n){const o=this.domNode.childNodes;Array.from(o).forEach((o=>{1===o.nodeType&&new class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(n){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${n}-menu`);o&&(this.submenu=new class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(o=>{o.addEventListener("keydown",(o=>{let l=!1;switch(o.code){case e.down:this.gotoSubIndex(this.subIndex+1),l=!0;break;case e.up:this.gotoSubIndex(this.subIndex-1),l=!0;break;case e.tab:t(n,"mouseleave");break;case e.enter:case e.space:l=!0,o.currentTarget.click()}return l&&(o.preventDefault(),o.stopPropagation()),!1}))}))}}(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(n=>{let o=!1;switch(n.code){case e.down:t(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break;case e.up:t(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break;case e.tab:t(n.currentTarget,"mouseleave");break;case e.enter:case e.space:o=!0,n.currentTarget.click()}o&&n.preventDefault()}))}}(o,n)}))}}(u.vnode.el,p.namespace.value)}));s({open:e=>{const{indexPath:t}=f.value[e];t.forEach((e=>M(e,t)))},close:g,handleResize:A});return()=>{var e,t;let o=null!=(t=null==(e=a.default)?void 0:e.call(a))?t:[];const l=[];if("horizontal"===n.mode&&i.value){const e=R(o),t=-1===c.value?e:e.slice(0,c.value),a=-1===c.value?[]:e.slice(c.value);(null==a?void 0:a.length)&&n.ellipsis&&(o=t,l.push($(ie,{index:"sub-menu-more",class:d.e("hide-arrow")},{title:()=>$(P,{class:d.e("icon-more")},{default:()=>$(D)}),default:()=>a})))}const s=se(n,0),u=$("ul",{key:String(n.collapse),role:"menubar",ref:i,style:s.value,class:{[p.b()]:!0,[p.m(n.mode)]:!0,[p.m("collapse")]:n.collapse}},[...o,...l]);return n.collapseTransition&&"vertical"===n.mode?$(oe,(()=>u)):u}}});const ve=b({index:{type:_([String,null]),default:null},route:{type:_([String,Object])},disabled:Boolean}),me="ElMenuItem";var he=n(o({name:me,components:{ElTooltip:ne},props:ve,emits:{click:e=>O(e.index)&&Array.isArray(e.indexPath)},setup(e,{emit:t}){const n=N(),o=M("rootMenu"),a=l("menu"),s=l("menu-item");o||g(me,"can not inject root menu");const{parentMenu:u,indexPath:r}=le(n,H(e,"index")),i=M(`subMenu:${u.value.uid}`);i||g(me,"can not inject sub menu");const p=m((()=>e.index===o.activeIndex)),d=C({index:e.index,indexPath:r,active:p});return w((()=>{i.addSubMenu(d),o.addMenuItem(d)})),T((()=>{i.removeSubMenu(d),o.removeMenuItem(d)})),{parentMenu:u,rootMenu:o,active:p,nsMenu:a,nsMenuItem:s,handleClick:()=>{e.disabled||(o.handleMenuItemClick({index:e.index,indexPath:r.value,route:e.route}),t("click",d))}}}}),[["render",function(e,t,n,o,l,i){const p=U("el-tooltip");return a(),Z("li",{class:K([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?(a(),s(p,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:u((()=>[r(e.$slots,"title")])),default:u((()=>[J("div",{class:K(e.nsMenu.be("tooltip","trigger"))},[r(e.$slots,"default")],2)])),_:3},8,["effect"])):(a(),Z(B,{key:1},[r(e.$slots,"default"),r(e.$slots,"title")],64))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);var be=n(o({name:"ElMenuItemGroup",props:{title:String},setup:()=>({ns:l("menu-item-group")})}),[["render",function(e,t,n,o,l,s){return a(),Z("li",{class:K(e.ns.b())},[J("div",{class:K(e.ns.e("title"))},[e.$slots.title?r(e.$slots,"title",{key:1}):(a(),Z(B,{key:0},[Q(X(e.title),1)],64))],2),J("ul",null,[r(e.$slots,"default")])],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const fe=Y(ce,{MenuItem:he,MenuItemGroup:be,SubMenu:ie}),xe=ee(he);ee(be);const Me=ee(ie);export{fe as E,Me as a,xe as b};
